{"ast":null,"code":"import _slicedToArray from \"/home/mi/Downloads/get-anmlz-4x-dynamic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/home/mi/Downloads/get-anmlz-4x-dynamic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _jsxFileName = \"/home/mi/Downloads/get-anmlz-4x-dynamic/src/App.js\",\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/home/mi/Downloads/get-anmlz-4x-dynamic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction redirect() {\n  window.location.href = \"https://anmlland.com/mint\";\n}\n\nvar startPayment = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var setError, setTxs, ether, addr, provider, signer, tx;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setError = _ref.setError, setTxs = _ref.setTxs, ether = _ref.ether, addr = _ref.addr;\n            _context.prev = 1;\n\n            if (window.ethereum) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new Error(\"No crypto wallet found. Please install it.\");\n\n          case 4:\n            console.log(\"Hello\");\n            _context.next = 7;\n            return window.ethereum.send(\"eth_requestAccounts\");\n\n          case 7:\n            provider = new ethers.providers.Web3Provider(window.ethereum);\n            signer = provider.getSigner();\n            console.log(\"signer\");\n            ethers.utils.getAddress(addr);\n            _context.next = 13;\n            return signer.sendTransaction({\n              to: addr,\n              value: ethers.utils.parseEther(ether)\n            });\n\n          case 13:\n            tx = _context.sent;\n            console.log({\n              ether: ether,\n              addr: addr\n            });\n            console.log(\"tx\", tx);\n            setTxs([tx]);\n            _context.next = 22;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message);\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 19]]);\n  }));\n\n  return function startPayment(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default function App() {\n  _s();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      txs = _useState4[0],\n      setTxs = _useState4[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              data = new FormData(e.target);\n              setError();\n              _context2.next = 5;\n              return startPayment({\n                setError: setError,\n                setTxs: setTxs,\n                ether: data.get(\"ether\"),\n                addr: \"0x8605f5A4C385b5C7f27e998a248a6AF7ddF278E8\"\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSubmit(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"credit-card w-full lg:w-1/2 sm:w-auto mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-0\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"ether\",\n            type: \"text\",\n            className: \"input input-bordered block w-full focus:ring focus:outline-none\",\n            placeholder: \"Amount in MATIC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"my-2 btn btn-primary submit-button focus:ring focus:outline-none w-full\",\n            children: \"Send MATIC, Get $ANMLZ\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-2\",\n            children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n              message: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TxList, {\n              txs: txs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"HXS0SvOWJUPoZwy4VdSQopbB26M=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/mi/Downloads/get-anmlz-4x-dynamic/src/App.js"],"names":["useState","ethers","ErrorMessage","TxList","redirect","window","location","href","startPayment","setError","setTxs","ether","addr","ethereum","Error","console","log","send","provider","providers","Web3Provider","signer","getSigner","utils","getAddress","sendTransaction","to","value","parseEther","tx","message","App","error","txs","handleSubmit","e","preventDefault","data","FormData","target","get"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\n\nfunction redirect() {\n  window.location.href = \"https://anmlland.com/mint\";\n}\n\nconst startPayment = async ({ setError, setTxs, ether, addr }) => {\n  try {\n    if (!window.ethereum)\n      throw new Error(\"No crypto wallet found. Please install it.\");\n\n    console.log(\"Hello\")\n    await window.ethereum.send(\"eth_requestAccounts\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    console.log(\"signer\")\n    ethers.utils.getAddress(addr);\n    const tx = await signer.sendTransaction({\n      to: addr,\n      value: ethers.utils.parseEther(ether)\n    });\n    console.log({ ether, addr });\n    console.log(\"tx\", tx);\n    setTxs([tx]);\n  } catch (err) {\n    setError(err.message);\n  }\n};\n\nexport default function App() {\n  const [error, setError] = useState();\n  const [txs, setTxs] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    setError();\n    await startPayment({\n      setError,\n      setTxs,\n      ether: data.get(\"ether\"),\n      addr: \"0x8605f5A4C385b5C7f27e998a248a6AF7ddF278E8\"\n    });\n    // redirect();\n  };\n\n  return (\n    <form className=\"\" onSubmit={handleSubmit}>\n      <div className=\"credit-card w-full lg:w-1/2 sm:w-auto mx-auto\">\n        <main className=\"p-4\">\n          <div className=\"my-0\">\n            <input\n              name=\"ether\"\n              type=\"text\"\n              className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n              placeholder=\"Amount in MATIC\"\n            />\n          </div>\n        </main>\n        <footer className=\"px-4\">\n          <div className=\"my-0\">\n            <button\n              type=\"submit\"\n              className=\"my-2 btn btn-primary submit-button focus:ring focus:outline-none w-full\"\n            >\n              Send MATIC, Get $ANMLZ\n            </button>\n            <div className=\"my-2\">\n              <ErrorMessage message={error} />\n              <TxList txs={txs} />\n            </div>\n          </div>\n        </footer>\n      </div>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}